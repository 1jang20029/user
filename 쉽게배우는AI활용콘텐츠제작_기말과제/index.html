<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <title>연성이의 포트폴리오</title>
    <style>
        *{margin: 0; padding: 0; box-sizing: border-box;}
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        /* 헤더 스타일 */
        header {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 1em;
        }

        /* 네비게이션 */
        nav {
            background-color: #444;
            padding: 10px 0;
            text-align: center;
        }

        nav button {
            background-color: #666;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 0 10px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        nav button:hover, nav button.active {
            background-color: #888;
        }

        /* 페이지 컨테이너 */
        .page {
            display: none;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .page.active {
            display: block;
        }

        /* About Me 스타일 */
        .about-content {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .about-content img {
            max-width: 40%;
            border-radius: 10px;
        }

        .about-text {
            flex: 1;
            line-height: 1.6;
        }

        /* 포트폴리오 갤러리 */
        .gallery {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: space-between;
        }

        .project {
            flex: 1 0 calc(33.333% - 20px);
            box-sizing: border-box;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease-in-out;
            cursor: pointer;
        }

        .project:hover {
            transform: scale(1.05);
        }

        .project img {
            width: 100%;
            height: auto;
            border-radius: 8px 8px 0 0;
        }

        .project .info {
            padding: 10px;
            background-color: white;
        }

        /* 영화 소개 스타일 */
        .movie-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 20px;
        }

        .movie-item {
            width: calc(50% - 10px);
            cursor: pointer;
            transition: transform 0.3s ease-in-out;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
            background: white;
        }

        .movie-item:hover {
            transform: scale(1.02);
        }

        .movie-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .movie-item h3 {
            padding: 10px;
            margin: 0;
        }

        .movie-item p {
            padding: 0 10px 10px;
            line-height: 1.4;
            font-size: 14px;
        }

        .icon-link {
            display: block;
            text-align: center;
            padding: 10px;
            background-color: #f0f0f0;
            text-decoration: none;
            color: #333;
            transition: background-color 0.3s;
        }

        .icon-link:hover {
            background-color: #e0e0e0;
        }

        /* 앨범 스타일 */
        .album-container {
            position: relative;
            width: 500px;
            height: 250px;
            margin: 20px auto;
            border: 2px solid #333;
            border-radius: 10px;
            overflow: hidden;
        }

        .photo-container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .photo-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .photo-container img.active {
            opacity: 1;
        }

        .prev-btn, .next-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            z-index: 10;
        }

        .prev-btn {
            left: 10px;
        }

        .next-btn {
            right: 10px;
        }

        .prev-btn:hover, .next-btn:hover {
            background-color: rgba(0, 0, 0, 0.9);
        }

        /* 뮤직 플레이어 스타일 */
        .music-page {
            background: linear-gradient(to bottom, #02025e, #000000);
            color: white;
            text-align: center;
        }

        .player h2 {
            margin-bottom: 20px;
            color: white;
        }

        .viewer {
            width: 300px;
            height: 300px;
            margin: 0 auto 20px auto;
        }

        .viewer img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 20px;
        }

        .controls h3 {
            width: 300px;
            margin: 20px auto;
            padding: 20px 0;
            background: linear-gradient(to bottom, #f828e7, #5e68f3);
            border-radius: 30px;
        }

        #playlist {
            width: 300px;
            margin: 0 auto;
            list-style: none;
            background: linear-gradient(to bottom, #f828e7, #5e68f3, #48f5ad);
            border-radius: 20px;
            padding: 20px 0;
        }

        #playlist li {
            height: 50px;
            display: flex;
            border-bottom: 1px solid rgba(0, 0, 0, 0.3);
            font-weight: bold;
            cursor: pointer;
            align-items: center;
            transition: background-color 0.3s;
        }

        #playlist li:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        #playlist li.playing {
            background-color: rgba(225, 245, 5, 0.5);
            color: black;
        }

        #playlist li img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 5px;
        }

        #playlist li p {
            flex: 1;
            padding: 10px;
            margin: 0;
        }

        .bt_con_box {
            width: 50px;
            position: relative;
        }

        .bt_con_box img {
            width: 70%;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        /* 게임 스타일 */
        #portfolio_webgame {
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            margin: 20px auto;
            width: 600px;
            height: 400px;
            position: relative;
            border: 2px solid #333;
            border-radius: 10px;
            overflow: hidden;
        }

        #myCanvas {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        #start_menu {
            width: 600px;
            height: 400px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        #start_menu button {
            margin-top: 30px;
            padding: 15px 30px;
            font-size: 24px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #start_menu button:hover {
            background-color: #0056b3;
        }

        /* 반응형 디자인 */
        @media only screen and (max-width: 768px) {
            .project, .movie-item {
                flex: 1 0 calc(100% - 20px);
            }

            .about-content {
                flex-direction: column;
                text-align: center;
            }

            .album-container {
                width: 90%;
                height: 200px;
            }

            #portfolio_webgame {
                width: 90%;
                height: 300px;
            }

            #myCanvas {
                width: 100%;
                height: 100%;
            }

            #start_menu {
                width: 100%;
                height: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>연성이의 포트폴리오</h1>
        <p>ChatGPT로 시작하는 콘텐츠제작 프로젝트</p>
    </header>

    <nav>
        <button onclick="showPage('about')" class="nav-btn active">About Me</button>
        <button onclick="showPage('portfolio')" class="nav-btn">Portfolio</button>
        <button onclick="showPage('movies')" class="nav-btn">영화 소개</button>
        <button onclick="showPage('album')" class="nav-btn">앨범</button>
        <button onclick="showPage('music')" class="nav-btn">음원 플레이어</button>
        <button onclick="showPage('game')" class="nav-btn">게임</button>
    </nav>

    <!-- About Me 페이지 -->
    <section id="about" class="page active">
        <h2>About Me</h2>
        <div class="about-content">
            <img src="https://via.placeholder.com/300x300/4CAF50/white?text=Profile" alt="Your Photo">
            <div class="about-text">
                <p>
                    안녕하세요, 제 포트폴리오에 오신 것을 환영합니다. 저는 뛰어난 학업 성적과 강한 리더십으로 프로그래밍 분야에서의 성장을 꿈꾸고 있는 개발자입니다.
                    희망 직군으로는 프로그래머로 나아가고자 합니다. 학업에서 우수한 성적을 기록함으로써 문제 해결 능력과 높은 학습 능력을 쌓았습니다. 특히, 팀프로젝트에서 팀장을 맡아 성공적으로 3개의 프로젝트를 완료했습니다.
                </p><br>
                <p>
                    기술적으로는 HTML, CSS, JavaScript, Java, PHP, Node.js, SQL 등 다양한 프로그래밍 언어와 기술을 다룰 수 있습니다. 프론트엔드 개발 뿐만 아니라 백엔드 개발에도 능숙하게 참여할 수 있습니다.
                    또한, 내성적인 성격에도 불구하고 대인 관계에 능하며 소통을 중요시 여깁니다.
                </p>
            </div>
        </div>
    </section>

    <!-- Portfolio 페이지 -->
    <section id="portfolio" class="page">
        <h2>Portfolio</h2>
        <div class="gallery">
            <div class="project" onclick="showPage('movies')">
                <img src="https://via.placeholder.com/300x200/FF5722/white?text=Movie+Project" alt="Project 1" id="project1-img">
                <div class="info">
                    <h3>Project 1<br>영화소개</h3>
                    <p>감명깊게 본 영화 TOP10</p>
                </div>
            </div>
            <div class="project" onclick="showPage('album')">
                <img src="https://via.placeholder.com/300x200/2196F3/white?text=Album+Project" alt="Project 2" id="project2-img">
                <div class="info">
                    <h3>Project 2<br>앨범</h3>
                    <p>작품소개 앨범</p>
                </div>
            </div>
            <div class="project" onclick="showPage('music')">
                <img src="https://via.placeholder.com/300x200/9C27B0/white?text=Music+Project" alt="Project 3" id="project3-img">
                <div class="info">
                    <h3>Project 3<br>음원 플레이어</h3>
                    <p>추천음악 TOP10</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 영화 소개 페이지 -->
    <section id="movies" class="page">
        <h2>영화 소개</h2>
        <div class="movie-list">
            <div class="movie-item">
                <img src="https://via.placeholder.com/400x300/1976D2/white?text=Avatar" alt="아바타">
                <h3>아바타</h3>
                <p><b>영화 줄거리:</b> 21세기 중반, 지구의 리소스 고갈로 죽어가는 상황에서 인류는 외계 행성인 판도라에 정착을 시도하며, 아름다운 자연과 황금 나비의 나라로 가득한 이 행성에서 전투 중 다친 형사 제이크 소울리가 자신의 쌍둥이 동생의 연구를 이어받아 판도라의 나비족과의 군대 갈등, 갈등의 격화와 함께 나비족과의 화해와 희망을 찾는 과정을 그린, 환경 보호와 다양성, 평화를 강조하는 영화입니다.</p>
                <a class="icon-link" href="https://namu.wiki/w/%EC%95%84%EB%B0%94%ED%83%80(%EC%98%81%ED%99%94)" target="_blank">자세히 보기</a>
            </div>

            <div class="movie-item">
                <img src="https://via.placeholder.com/400x300/E91E63/white?text=Titanic" alt="타이타닉">
                <h3>타이타닉</h3>
                <p><b>영화 줄거리:</b> "타이타닉"은 1912년에 침몰한 타이타닉호를 배경으로, 상류층 소녀 로즈와 빈민층 예술가 잭의 사랑 이야기를 그리며, 유적에서 로즈의 노래와 함께 84세에 생을 마치는 그녀의 추억을 되새기는 현대의 노인 로즈의 이야기를 담은 감동적인 로맨스 영화입니다.</p>
                <a class="icon-link" href="https://namu.wiki/w/%ED%83%80%EC%9D%B4%ED%83%80%EB%8B%89(%EC%98%81%ED%99%94)" target="_blank">자세히 보기</a>
            </div>

            <div class="movie-item">
                <img src="https://via.placeholder.com/400x300/4CAF50/white?text=Avengers" alt="어벤져스">
                <h3>어벤져스 - 엔드게임</h3>
                <p><b>영화 줄거리:</b> "어벤져스: 엔드게임"은 타노스의 손에서 인피니티 스톤을 되찾기 위해 어벤져스가 과거로 시간여행하고, 히어로들의 희생과 전쟁을 거치며 최종 전투에서 타노스를 물리치고, 토니 스타크가 인피니티 건틀릿을 사용해 자신을 포함한 삶을 희생하며 모든 것을 종결하는 과정을 다룬 마블 시네마틱 유니버스의 대미를 장식한 에픽한 슈퍼히어로 영화입니다.</p>
                <a class="icon-link" href="https://namu.wiki/w/%EC%96%B4%EB%B2%A4%EC%A0%B8%EC%8A%A4:%20%EC%97%94%EB%93%9C%EA%B2%8C%EC%9E%84" target="_blank">자세히 보기</a>
            </div>

            <div class="movie-item">
                <img src="https://via.placeholder.com/400x300/FF9800/white?text=Coming+Soon" alt="영화4">
                <h3>영화 제목 4</h3>
                <p>영화 줄거리: 여기에 영화의 간단한 줄거리를 작성합니다.</p>
                <a class="icon-link" href="#" target="_blank">자세히 보기</a>
            </div>
        </div>
    </section>

    <!-- 앨범 페이지 -->
    <section id="album" class="page">
        <h2>사진 앨범</h2>
        <div class="album-container">
            <div class="photo-container">
                <img src="https://via.placeholder.com/500x250/FF5722/white?text=Slide+1" alt="Photo 1" class="active">
                <img src="https://via.placeholder.com/500x250/2196F3/white?text=Slide+2" alt="Photo 2">
                <img src="https://via.placeholder.com/500x250/4CAF50/white?text=Slide+3" alt="Photo 3">
                <img src="https://via.placeholder.com/500x250/9C27B0/white?text=Slide+4" alt="Photo 4">
                <img src="https://via.placeholder.com/500x250/FF9800/white?text=Slide+5" alt="Photo 5">
            </div>
            <button class="prev-btn" onclick="changeSlide(-1)">이전</button>
            <button class="next-btn" onclick="changeSlide(1)">다음</button>
        </div>
    </section>

    <!-- 음원 플레이어 페이지 -->
    <section id="music" class="page music-page">
        <h2 id="m_title">음악제목</h2>
        <div class="viewer">
            <img src="https://via.placeholder.com/300x300/9C27B0/white?text=Music+Player" alt="음원 이미지" id="music-viewer">
        </div>
        <div class="controls">
            <audio id="audio" controls style="width: 300px; margin-bottom: 20px;">
                <source src="" type="audio/mp3">
            </audio>
            <h3>PLAYLIST</h3>
            <ul id="playlist">
                <li data-audio="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" data-image="https://via.placeholder.com/300x300/1976D2/white?text=Song+1">
                    <img src="https://via.placeholder.com/50x50/1976D2/white?text=1" alt="">
                    <p>연성대학교 교가</p>
                    <div class="bt_con_box">
                        <img src="https://via.placeholder.com/30x30/FF0000/white?text=P" alt="pause" class="pause-btn">
                        <img src="https://via.placeholder.com/30x30/00FF00/white?text=▶" alt="play" class="play-btn">
                    </div>
                </li>
                <li data-audio="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" data-image="https://via.placeholder.com/300x300/E91E63/white?text=Song+2">
                    <img src="https://via.placeholder.com/50x50/E91E63/white?text=2" alt="">
                    <p>나의 힙합</p>
                    <div class="bt_con_box">
                        <img src="https://via.placeholder.com/30x30/FF0000/white?text=P" alt="pause" class="pause-btn">
                        <img src="https://via.placeholder.com/30x30/00FF00/white?text=▶" alt="play" class="play-btn">
                    </div>
                </li>
                <li data-audio="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" data-image="https://via.placeholder.com/300x300/4CAF50/white?text=Song+3">
                    <img src="https://via.placeholder.com/50x50/4CAF50/white?text=3" alt="">
                    <p>불꽃 같은 너의 꿈</p>
                    <div class="bt_con_box">
                        <img src="https://via.placeholder.com/30x30/FF0000/white?text=P" alt="pause" class="pause-btn">
                        <img src="https://via.placeholder.com/30x30/00FF00/white?text=▶" alt="play" class="play-btn">
                    </div>
                </li>
                <li data-audio="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav" data-image="https://via.placeholder.com/300x300/FF9800/white?text=Song+4">
                    <img src="https://via.placeholder.com/50x50/FF9800/white?text=4" alt="">
                    <p>우리의 이야기</p>
                    <div class="bt_con_box">
                        <img src="https://via.placeholder.com/30x30/FF0000/white?text=P" alt="pause" class="pause-btn">
                        <img src="https://via.placeholder.com/30x30/00FF00/white?text=▶" alt="play" class="play-btn">
                    </div>
                </li>
            </ul>
        </div>
    </section>

    <!-- 게임 페이지 -->
    <section id="game" class="page">
        <h2>피하기 게임</h2>
        <article id="portfolio_webgame">
            <canvas id="myCanvas" width="600" height="400"></canvas>
            <div id="start_menu">
                <h1>버튼을 누르시면 게임이 시작됩니다.</h1>
                <button onclick="startGame()">START</button>
            </div>
        </article>
    </section>

    <script>
        // 페이지 네비게이션
        function showPage(pageId) {
            // 모든 페이지 숨기기
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            // 모든 네비게이션 버튼 비활성화
            const navBtns = document.querySelectorAll('.nav-btn');
            navBtns.forEach(btn => btn.classList.remove('active'));
            
            // 선택된 페이지 보이기
            document.getElementById(pageId).classList.add('active');
            
            // 해당 버튼 활성화
            event.target.classList.add('active');
        }

        // 프로젝트 호버 효과
        $(document).ready(function(){
            $(".project").hover(
                function() {
                    const index = $(this).index() + 1;
                    const img = $(this).find("img");
                    // 호버 시 색상 변경 효과
                    img.css('filter', 'brightness(1.1) saturate(1.2)');
                },
                function() {
                    const img = $(this).find("img");
                    img.css('filter', 'brightness(1) saturate(1)');
                }
            );
        });

        // 앨범 슬라이드 기능
        let currentSlide = 0;
        const slides = document.querySelectorAll('.photo-container img');
        const totalSlides = slides.length;

        function showSlide(index) {
            slides.forEach(slide => slide.classList.remove('active'));
            slides[index].classList.add('active');
        }

        function changeSlide(direction) {
            currentSlide += direction;
            if (currentSlide >= totalSlides) {
                currentSlide = 0;
            } else if (currentSlide < 0) {
                currentSlide = totalSlides - 1;
            }
            showSlide(currentSlide);
        }

        // 자동 슬라이드
        setInterval(() => {
            changeSlide(1);
        }, 3000);

        // 음악 플레이어 기능
        $(document).ready(function(){
            const audio = document.getElementById("audio");
            const playlist = document.getElementById("playlist");
            const viewer = document.getElementById("music-viewer");

            function resetPlaylist() {
                $(".bt_con_box").each(function() {
                    $(this).find(".pause-btn").hide();
                    $(this).find(".play-btn").show();
                });
                $("#playlist li").removeClass('playing');
            }

            playlist.addEventListener("click", (e) => {
                if (e.target.tagName === "LI" || e.target.closest('li')) {
                    const li = e.target.tagName === "LI" ? e.target : e.target.closest('li');
                    
                    const audioSrc = li.getAttribute("data-audio");
                    const imageSrc = li.getAttribute("data-image");
                    const pText = li.querySelector("p").textContent;
                    
                    audio.src = audioSrc;
                    viewer.src = imageSrc;
                    document.getElementById("m_title").textContent = pText;
                    
                    resetPlaylist();
                    
                    li.classList.add('playing');
                    $(li).find(".bt_con_box .play-btn").hide();
                    $(li).find(".bt_con_box .pause-btn").show();
                    
                    audio.play();
                }
            });

            // 초기 설정
            resetPlaylist();
        });

        // 게임 코드
        const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');
        
        const player = {
            x: canvas.width/2 - 40,
            y: canvas.height - 100,
            width: 80,
            height: 100,
            speed: 5,
            life: 3,
            G_y: 0,
            m_left: false,
            m_right: false 
        };
        
        let gravity = 0.5;
        let OnGround = false;
        let startTime;
        let PlayTime = 0;
        let fallingObjects = [];
        let gameRunning = false;
        let regen_time = 2000;

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // 배경
            ctx.fillStyle = '#87CEEB';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // 지면
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(0, canvas.height - 20, canvas.width, 20);
            
            // 플레이어
            ctx.fillStyle = '#FF6B6B';
            ctx.fillRect(player.x, player.y, player.width, player.height);
            
            // 떨어지는 오브젝트들
            fallingObjects.forEach(function(object) {
                ctx.fillStyle = '#FF4444';
                ctx.fillRect(object.x, object.y, object.width, object.height);
            });

            // UI 텍스트
            ctx.fillStyle = 'black';
            ctx.font = '30px Arial';
            ctx.fillText(`TIME: ${Math.floor(PlayTime / 1000)}`, 20, 40);
            ctx.fillText(`LIFE: ${player.life}`, 20, 80);
        }

        function update() {
            if (canvas.height - 20 <= player.y + player.height) {
                OnGround = true;
                player.G_y = 0;
                player.y = canvas.height - 20 - player.height;
            } else {
                OnGround = false;
            }
            
            if (!OnGround) {
                player.G_y += gravity;
                player.y += player.G_y;
            }

            if (player.m_left && player.x > 0) {
                player.x -= player.speed;
            }
            if (player.m_right && player.x + player.width < canvas.width) {
                player.x += player.speed;
            }

            // 오브젝트 업데이트 및 충돌 검사
            fallingObjects.forEach((object, index) => {
                object.y += object.vy;

                // 충돌 검사
                if (player.x < object.x + object.width &&
                    player.x + player.width > object.x &&
                    player.y < object.y + object.height &&
                    player.y + player.height > object.y) {
                    player.life -= 1;
                    fallingObjects.splice(index, 1);
                    if (player.life <= 0) {
                        gameRunning = false;
                    }
                }

                // 화면 밖으로 나간 오브젝트 제거
                if (object.y > canvas.height) {
                    fallingObjects.splice(index, 1);
                }
            });

            PlayTime = Date.now() - startTime;
            draw();
        }

        // 키보드 이벤트
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                player.m_left = true;
            }
            if (e.key === 'ArrowRight') {
                player.m_right = true;
            }
            if (e.key === ' ') {
                e.preventDefault();
                if (OnGround) {
                    player.G_y = -15; // 점프
                }
            }
        });

        document.addEventListener('keyup', function(e) {
            if (e.key === 'ArrowLeft') {
                player.m_left = false;
            }
            if (e.key === 'ArrowRight') {
                player.m_right = false;
            }
        });

        function addFallingObject() {
            if (gameRunning) {
                const object = {
                    x: Math.random() * (canvas.width - 40),
                    y: -60,
                    width: 40,
                    height: 60,
                    vy: 2 + Math.random() * 3
                };
                fallingObjects.push(object);
                
                if (regen_time > 150) {
                    regen_time -= 20;
                }
                setTimeout(addFallingObject, regen_time);
            }
        }
        
        function gameLoop() {
            if (gameRunning) {
                update();
                requestAnimationFrame(gameLoop);
            } else {
                // 게임 오버
                document.querySelector("#start_menu").style.display = 'flex';
                document.querySelector("#start_menu h1").innerHTML = `게임 오버!<br>점수: ${Math.floor(PlayTime / 1000)}`;
            }
        }

        function startGame() {
            // 게임 초기화
            fallingObjects.length = 0;
            player.life = 3;
            player.x = canvas.width/2 - 40;
            player.y = canvas.height - 120;
            player.G_y = 0;
            PlayTime = 0;
            regen_time = 2000;
            startTime = Date.now();
            gameRunning = true;
            
            // 시작 메뉴 숨기기
            document.querySelector("#start_menu").style.display = 'none';
            
            // 게임 시작
            addFallingObject();
            gameLoop();
        }

        // 초기 그리기
        draw();
    </script>
</body>
</html>